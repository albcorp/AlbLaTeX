%%%
%%% AlbLaTeX/latex/alb-avm.sty
%%%
%%%     Copyright (C) 1999-2006, 2013 Andrew Lincoln Burrow
%%%
%%%     This program may be distributed and/or modified under the
%%%     conditions of the LaTeX Project Public License, either version
%%%     1.3 of this license or (at your option) any later version.
%%%
%%%     The latest version of this license is in
%%%
%%%         http://www.latex-project.org/lppl.txt
%%%
%%%     and version 1.3 or later is part of all distributions of LaTeX
%%%     version 2005/12/01 or later.
%%%
%%%     This work has the LPPL maintenance status 'author-maintained'.
%%%
%%%     This work consists of the files 'alb-algorithms.sty', 'alb-avm.sty',
%%%     'alb-corp.cls', 'alb-float-tools.sty', 'alb-graph-theory.sty',
%%%     'alb-journal.cls', 'alb-order-theory.sty', 'alb-proofs.sty',
%%%     'alb-theorems.sty', 'alb-thesis.cls', 'alb-algorithms.tex',
%%%     'alb-avm.tex', 'alb-corp-layout.tex', 'alb-float-tools.tex',
%%%     'alb-graph-theory.tex', 'alb-journal-layout.tex',
%%%     'alb-order-theory.tex', 'alb-proofs.tex', 'alb-theorems.tex', and
%%%     'alb-thesis-layout.tex'.
%%%
%%%   - Provide environments and commands to typeset typed feature
%%%     structures and inequated typed feature structures in
%%%     attribute-value matrix (AVM) notation.
%%%
%%%   - See: 'alb-avm.pdf'.
%%%



\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{alb-avm}



%
% No options recognised.

\ProcessOptions


%
% No packages required.



\makeatletter



%
% 'albAvm' environment.
%
% An attribute value matrix is entered via the supporting commands:
% \albAvmTag{TAG}{XXXSUB}, \albAvmRef{TAG}, \albAvmType{TYPE}, and
% \albAvmFeat{FEAT}{SUB}.  In addition, inequations are supported by
% including a sequence of comma separated \albAvmIneqtn{LHS}{RHS}
% commands as the last line in the environment.

\newenvironment{albAvm}[0]{% BEGIN PART of albAvm
  $\left[%
    \begin{array}[c]{l}%
}{% END PART of albAvm
     \end{array}%
  \right]$%
}


%
% \albAvmTag{TAG}{XXXSUB} command.
%
% Use where a substructure is required.  TAG is used to label the
% substructure and is subsequently used to refer to the substructure.
% XXXSUB should be an explicit substructure, i.e., an \albAvmType
% command followed by a possibly empty list of \albAvmFeat commands.

\newcommand{\albAvmTag}[2]{%
  \mbox{\framebox{#1}\ } #2%
}


%
% \albAvmRef{TAG} command.
%
% Use where a substructure is required.  TAG refers to a substructure
% previously defined with an \albAvmTag command.

\newcommand{\albAvmRef}[1]{%
  \mbox{\framebox{#1}}%
}


%
% \albAvmType{TYPE} and \albAvmFeat{FEAT}{SUB} commands.
%
% Use where a substructure or explicit substructure is required.  TYPE
% is the type label for the substructure.  Each pair (FEAT, SUB) is a
% feature-value pair in the substructure.

\newcommand{\albAvmType}[1]{%
  \mbox{\textbf{#1}} \\%
}

\newcommand{\albAvmFeat}[2]{%
  \mbox{\textsc{#1}} :%
  \left[%
    \begin{array}[c]{l}%
      #2%
    \end{array}%
  \right] \\%
}


%
% \albAvmIneqtn{LHS}{RHS} command.
%
% Use where an inequation is required.  LHS and RHS refer to
% substructures previously defined with \albAvmTag commands.  Sequences
% of \albAvmIneqtn commands should be separated by commas and may
% require the manual insertion of line breaks with '\\'.

\newcommand{\albAvmIneqtn}[2]{%
  \mbox{\framebox{#1}} \not\leftrightarrow \mbox{\framebox{#2}}%
}



\makeatother


%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% TeX-parse-self: nil
%%% TeX-auto-save: nil
%%% End:
